<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Managing state in react</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    margin: 20px;
    
  }
 button{
  cursor: pointer ;
 }
  h2{
    
    width: 360px;
    margin-top: 2px;
  }
</style>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;
    // Lifting State Up-------------------------------------------------------------------------------
    function TempratureInput({ lable, value, onchange }) {
      return (
        <div>
          <p>{lable}</p>
          <input type="number" value={value} onChange={(e) => onchange(e.target.value)} />
        </div>
      );
    }
    function App() {
      const [temp, settemp] = useState("");
      return (
        <div>
          <p>______________________________________________________</p>
          <TempratureInput lable="Celcius" value={temp} onchange={settemp} />
          <TempratureInput lable="Also Celcius" value={temp} onchange={settemp} />
          <p>Value <b>{temp}</b></p>
          <p>______________________________________________________</p>
        </div>
      );
    }
    //  State Structure-------------------------------------------------------------------
    function State_Structure() {
      const [user, setUser] = useState({ firstName: "", lastName: "" });
      function updateField(field, value) {
        setUser((prev) => ({ ...prev, [field]: value }));
      }
      return (
        <div>
          <input placeholder="First Name" value={user.firstName} onChange={(e) => updateField("firstName", e.target.value)} />
          <input placeholder="Last Name" value={user.lastName} onChange={(e) => updateField("lastName", e.target.value)} />
          <p>Hello, <b>{user.firstName} {user.lastName}</b></p>
          <p>______________________________________________________</p>
        </div>
      );
    }
    // Context API-----------------------------------------------------------------------
    const { createContext, useContext } = React;
    const ThemeContext = createContext("lightblue");
    function Toolbar() {
      const theme = useContext(ThemeContext);
      return <h2 style={{ background: theme }}>Themed Button ({theme})</h2>;
    }
    function ChangeTheme() {
      const [theme, setTheme] = useState("lightblue");
      return (
      
        <ThemeContext.Provider value={theme}>
          <Toolbar />
          <div>
            <button onClick={() => setTheme("lightgreen")}>Light Green</button>
            <button onClick={() => setTheme("lightpink")}>Light pink</button>
            <button onClick={() => setTheme("lightblue")}>Light blue</button>
            <p >______________________________________________________</p>
          </div>
        </ThemeContext.Provider>
      );
    }
    // useReducer-----------------------------------------------------------------------------
     const { useReducer } = React;

    function counterReducer(state, action) {
      switch (action.type) {
        case "increment": return { count: state.count + 1 };
        case "decrement": return { count: state.count - 1 };
        case "reset": return { count: 0 };
        default: return state;
      }
    }
    function Counter() {
      const [state, dispatch] = useReducer(counterReducer, { count: 0 });
      return (
        <div>
          <p>Count: {state.count}</p>
          <button onClick={() => dispatch({ type: "increment" })}>Increment</button>
          <button onClick={() => dispatch({ type: "decrement" })}>Decrement</button>
          <button onClick={() => dispatch({ type: "reset" })}>Reset</button>
          <p>______________________________________________________</p>
        </div>
      );
    }
    ReactDOM.createRoot(document.getElementById("root")).render(
      <div>
        <App />
        <State_Structure />
        <ChangeTheme />
        <Counter />
      </div>
    );
  </script>


</body>

</html>